import React from 'react'
import PropTypes from 'prop-types'
import { Animated, Easing, View, SafeAreaView, Image, Text, StatusBar } from 'react-native'
import { Appearance } from '@utils'
import { Common as CommonStyles } from '@styles'
import Svg, {
    Path
} from 'react-native-svg'

class VolleyBall extends React.Component {
  state = {
    spinValue: new Animated.Value(0),
    colors: [
      Appearance.Colors.Tamarillo,
      Appearance.Colors.ElectricViolet,
      Appearance.Colors.FunGreen,
      Appearance.Colors.JungleGreen,
      Appearance.Colors.PirateGold,
      Appearance.Colors.LavenderMagenta,
      Appearance.Colors.CuriousBlue,
      Appearance.Colors.Botticelli
    ]
  }

  componentDidMount() {
    this.rotate()
  }

  rotate = () => {
    this.setState({ spinValue: new Animated.Value(0) }, () => {
      Animated.timing(this.state.spinValue, {
        toValue: 1,
        duration: 3500,
        easing: Easing.linear
      }).start(() => {
        this.rotate()
      })
      this.forceUpdate()
    })
  }

  pickColor = () => {
    return this.state.colors[Math.floor(Math.random()*this.state.colors.length)]
  }

  renderSoccerIcon = ({ width, height }) => {
    return (
      <Svg width={width} height={height} id={'VolleyBall'} data-name={'VolleyBall'} xmlns={'http://www.w3.org/2000/svg'} viewBox={'0 0 62.87 62.46'}>
        <Path fill={this.pickColor()} d={'M67.74,29.94a.43.43,0,0,0,0-.05,30.8,30.8,0,0,0-4.86-10.35l-.09-.11a30.82,30.82,0,0,0-4.86-5.32,31.2,31.2,0,0,0-2.8-2.17A30.85,30.85,0,0,0,37.57,6.5a16.53,16.53,0,0,0-2,.07,30.55,30.55,0,0,0-8.86,1.86,31.15,31.15,0,0,0-3.8,1.71h0l0,0a30.59,30.59,0,0,0-5.67,3.91c-.5.43-.93.82-1.28,1.17a30.85,30.85,0,0,0-4.65,5.66v0a30.26,30.26,0,0,0-4.06,9.63,31.19,31.19,0,0,0-.83,7.12c0,.19,0,.4,0,.61a25.26,25.26,0,0,0,.16,2.63,31,31,0,0,0,9.82,19.67l.26.24.53.47a32.84,32.84,0,0,0,2.81,2.17A30.08,30.08,0,0,0,27,67.12a30.59,30.59,0,0,0,5.91,1.47c.87.13,1.74.22,2.53.27s1.45.09,2.08.1a31.4,31.4,0,0,0,8.17-1.09,29.48,29.48,0,0,0,6.1-2.38,1.27,1.27,0,0,0,.23-.12,30.94,30.94,0,0,0,5.89-4A31.47,31.47,0,0,0,66.64,49a31.14,31.14,0,0,0,1.5-5.19,31,31,0,0,0,.77-4.66c0-.41.25-.85.25-1.23v-.13A31.12,31.12,0,0,0,68,30Zm-5,9.28a34.33,34.33,0,0,0-4.94-2.14c-.54-.19-1.06-.36-1.58-.5s-.88-.27-1.33-.39a33.22,33.22,0,0,0-7.22-1.08c-.56,0-1.15,0-1.73,0h0a36,36,0,0,0-7.66.81,33.71,33.71,0,0,1-5.43-5.07c-.2-.23-.39-.48-.58-.72l.1-.05A32.6,32.6,0,0,1,50.17,26.4a23.54,23.54,0,0,1,3.32.44,32.16,32.16,0,0,1,5,1.33,35.68,35.68,0,0,1,6.66,3,28.3,28.3,0,0,1,1,6.53v.17c0,.3-.21.63-.25,1,0,.65-.18,1.3-.26,2C64.73,40.29,63.69,39.72,62.72,39.22Zm-2.3-17.94a.64.64,0,0,0,.1.13,28.09,28.09,0,0,1,3.08,5.64,35.37,35.37,0,0,0-4.1-1.71A34,34,0,0,0,54,23.89a26.42,26.42,0,0,0-3.62-.48,35.43,35.43,0,0,0-19.42,4l-.1,0a1.54,1.54,0,0,0-.42.28A32,32,0,0,1,27.9,23c-.22-.48-.43-1-.61-1.43a1.23,1.23,0,0,0,.33-.19,32.94,32.94,0,0,1,4.11-2.83l.3-.16c.29-.16.59-.33,1-.51A32,32,0,0,1,41,15a32.58,32.58,0,0,1,12.68-.33A27.7,27.7,0,0,1,56,16.38,27.12,27.12,0,0,1,60.42,21.28Zm-32.72-10a27.81,27.81,0,0,1,8.05-1.68,13.93,13.93,0,0,1,1.49-.07h.31a28.11,28.11,0,0,1,9.53,1.67,35.31,35.31,0,0,0-6.71.85,34.26,34.26,0,0,0-8.71,3.2c-.37.16-.73.36-1.09.56l-.31.18a34.58,34.58,0,0,0-4,2.69c-.28-1-.54-1.95-.72-2.92,0-.05,0-.15-.05-.27a29.94,29.94,0,0,1-.42-3.08A27.61,27.61,0,0,1,27.7,11.24ZM18,17.4c.36-.37.75-.71,1.15-1.06A27.6,27.6,0,0,1,22.24,14c.1.71.21,1.42.35,2.13,0,0,0,0,0,.07s0,0,0,.06a33.54,33.54,0,0,0,1.31,4.91c.34,1,.76,2,1.23,3.08a33.57,33.57,0,0,0,3.06,5.51,34.81,34.81,0,0,0,2.32,3,35.7,35.7,0,0,0,5.72,5.36,30.42,30.42,0,0,1-1.5,5.5c-.12.34-.26.68-.4,1a.94.94,0,0,0-.22-.12,33.92,33.92,0,0,1-4.7-2.26,11.09,11.09,0,0,1-1.14-.69A32.58,32.58,0,0,1,14.08,22,27.2,27.2,0,0,1,18,17.4ZM10,31.27a27.48,27.48,0,0,1,2-5.65,35.35,35.35,0,0,0,14.6,18.44A13.27,13.27,0,0,0,28,44.9a38.31,38.31,0,0,0,5.08,2.43h0a31.55,31.55,0,0,1-1.8,3.08c-.34.51-.7,1-1.06,1.49a1.32,1.32,0,0,0-.3-.08,33.06,33.06,0,0,1-11.61-4.09,11.21,11.21,0,0,1-1.05-.65L17.18,47a32.2,32.2,0,0,1-7.77-6.86c-.05-.64-.09-1.29-.1-1.95a.76.76,0,0,0,0-.15c0-.13,0-.25,0-.36A28.09,28.09,0,0,1,10,31.27Zm8.52,27.35-.26-.23a28,28,0,0,1-7.89-12.82,35.92,35.92,0,0,0,5.12,4,13.19,13.19,0,0,0,1.33.81A35.85,35.85,0,0,0,28,54.55c-.19.2-.38.41-.57.6a27,27,0,0,1-2.16,2,32.28,32.28,0,0,1-4.49,3.28C20.21,60,19.62,59.54,19,59Zm5,3.64a36.28,36.28,0,0,0,3.68-2.79,30.41,30.41,0,0,0,2.36-2.23c.69-.71,1.36-1.46,2-2.3s1.45-1.84,2.13-2.85a35.68,35.68,0,0,0,2.56-4.52c.44-.93.86-1.91,1.22-2.89a33.32,33.32,0,0,0,1.62-5.93,31,31,0,0,1,6.37-.69h.52c0,.31,0,.62,0,1s0,.88,0,1.38a32.84,32.84,0,0,1-2.46,11.2,16.8,16.8,0,0,1-.73,1.61A32.62,32.62,0,0,1,34.61,64c-.63.54-1.26,1-1.89,1.51A28,28,0,0,1,28,64.29,26.12,26.12,0,0,1,23.58,62.26ZM44.89,65a28.37,28.37,0,0,1-7.37,1l-.57,0a35.54,35.54,0,0,0,8.6-11.39c.29-.57.57-1.18.83-1.82a35.83,35.83,0,0,0,2.67-12.14c0-.52,0-1.05,0-1.57,0-.27,0-.54,0-.81a31,31,0,0,1,4.85.84,1.41,1.41,0,0,0,0,.41,34.29,34.29,0,0,1,.71,6.81v.24c0,.35,0,.72-.06,1.16,0,.66-.06,1.36-.15,2.06A32.17,32.17,0,0,1,50.1,63,27.39,27.39,0,0,1,44.89,65Zm11-5.89-.94.76a34.92,34.92,0,0,0,2.44-9.78c.1-.78.14-1.55.16-2.18a11.84,11.84,0,0,0,.06-1.33v-.27A37.08,37.08,0,0,0,57.1,40a32.85,32.85,0,0,1,4.23,1.84A34.74,34.74,0,0,1,65,44.14a27.12,27.12,0,0,1-1.15,3.73A28.39,28.39,0,0,1,55.93,59.09Z'} transform={'translate(-6.29 -6.49)'}/>
      </Svg>
    )
  }

  shouldComponentUpdate() {
    return false
  }

  render() {
    const { style, size } = this.props
    const spin = this.state.spinValue.interpolate({
      inputRange: [0, 1],
      outputRange: ['0deg', '360deg']
    })

    const styles = [{ transform: [{ rotate: spin }] }]

    return (
      <Animated.View style={styles}>
        { this.renderSoccerIcon({ width: size, height: size }) }
      </Animated.View>
    )
  }
}

export default VolleyBall
